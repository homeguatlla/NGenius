<?xml version="1.0" encoding="utf-8"?>
<ngenius version="0.3.0">
	<libraries>
		<fonts_library>
			<font filename = "data/fonts/quartzMS.fnt"/>
		</fonts_library>
		<shaders_library>
			<shader name="model"/>
			<shader name="terrain"/>
			<shader name="normalmap"/>
			<shader name="skybox"/>
			<shader name="particle"/>
			<shader name="water"/>
			<shader name="energy_wall"/>
			<shader name="contrast"/>
			<shader name="horizontal_blur"/>
			<shader name="vertical_blur"/>
			<shader name="bright"/>
			<shader name="bloom"/>
			<shader name="grass"/>
			<shader name="animated_model"/>
		</shaders_library>
		<textures_library>
			<texture name = "terrain_heightmap" filename = "data/textures/terrain_heightmap_1024.png" />
			<texture name = "terrain_blendmap" filename = "data/textures/terrain_blendmap_1024.png" />			
			<texture name = "distorsion_water" filename = "data/textures/waterDUDV.png" has_wrapping="true"/>
			<texture name = "normal_water" filename = "data/textures/normal_water.png" has_wrapping="true"/>
			<texture_array name = "terrain_array">
				<texture filename = "data/textures/sand_256.png" />
				<texture filename = "data/textures/grass_256.png" />
				<texture filename = "data/textures/grass_dark_256.png" />
				<texture filename = "data/textures/rock3.png" />
			</texture_array>
			<texture_cubemap name = "day_cubemap">
				<texture filename = "data/skybox/sky1/right.png" />
				<texture filename = "data/skybox/sky1/left.png" />
				<texture filename = "data/skybox/sky1/top.png" />
				<texture filename = "data/skybox/sky1/bottom.png" />
				<texture filename = "data/skybox/sky1/back.png" />
				<texture filename = "data/skybox/sky1/front.png" />
			</texture_cubemap>
			<texture_cubemap name = "night_cubemap">
				<texture filename = "data/skybox/sky2/right.png" />
				<texture filename = "data/skybox/sky2/left.png" />
				<texture filename = "data/skybox/sky2/top.png" />
				<texture filename = "data/skybox/sky2/bottom.png" />
				<texture filename = "data/skybox/sky2/back.png" />
				<texture filename = "data/skybox/sky2/front.png" />
			</texture_cubemap>
			<texture name = "material_farmer_diffuse" filename = "data/models/farmer/farmer_texture.png"/>
			<texture name = "wind_texture" filename = "data/wind_map.png" has_wrapping="true"/>
			<texture name = "smoke" filename = "data/textures/smoke_64_.png"/>
			<texture name = "yellow_grid" filename = "data/textures/grid_64.png" has_wrapping="true"/>
			<texture name = "grass2" filename = "data/textures/grass2.png"/>
		</textures_library>
		<models_library>
			<model name = "barrel" filename = "data/models/props/barrel.obj" calculate_normals="true" calculate_tangents="true"/>
			<model name = "chest" filename = "data/models/props/chest.obj" calculate_normals="true" calculate_tangents="true"/>
			<model name = "brazier" filename = "data/models/props/brazier.obj" calculate_normals="true" calculate_tangents="true"/>
			<model name = "sphere" filename = "data/models/sphere/sphere.obj" calculate_tangents="true"/>
			<model name = "farmer" filename = "data/models/farmer/farmer.dae" calculate_normals="true" calculate_tangents="true"/>
			<model name = "crate" filename = "data/models/props/crate.obj" calculate_normals="true" calculate_tangents="true"/>
			<model name = "statue" filename = "data/models/props/statue.obj" calculate_normals="true" calculate_tangents="true"/>
			<model name = "tree_foliage_0" filename="data/models/tree4/tree_foliage_lod0.obj" calculate_tangents="true"/>
			<model name = "tree_foliage_1" filename="data/models/tree4/tree_foliage_lod1.obj" calculate_tangents="true"/>
			<model name = "tree_foliage_2" filename="data/models/tree4/tree_foliage_lod2.obj" calculate_tangents="true"/>
			<model name = "tree_trunk_0" filename="data/models/tree4/tree_trunk_lod0.obj" calculate_tangents="true"/>
			<model name = "tree_trunk_1" filename="data/models/tree4/tree_trunk_lod1.obj" calculate_tangents="true"/>
			<model name = "tree_trunk_2" filename="data/models/tree4/tree_trunk_lod2.obj" calculate_tangents="true"/>
		</models_library>
		<lods_library>
			<lods name = "tree_folliage">
				<lod model_name="tree_folliage_0" distance = "500.0" />
				<lod model_name="tree_folliage_1" distance = "800.0" />
				<lod model_name="tree_folliage_2" distance = "1000.0" />
			</lods>
			<lods name = "tree_trunk">
				<lod model_name="tree_trunk_0" distance = "500.0" />
				<lod model_name="tree_trunk_1" distance = "800.0" />
				<lod model_name="tree_trunk_2" distance = "1000.0" />
			</lods>
		</lods_library>
		<materials_library>
			<material name= "tree_foliage" shader = "model">
				<effect name="effect_diffuse_texture" texture="tree_foliage_diffuse" color="1.0 1.0 1.0" tile="1.0" />
				<effect name="effect_directional_light_properties" />
				<effect name="effect_fog_properties" />
				<effect name="effect_shadow_properties" pfc_counter = "1" />
				<effect name="effect_clipping_plane" />
			</material>
			<material name= "tree_trunk" shader = "model">
				<effect name="effect_diffuse_texture" texture="tree_trunk_diffuse" color="1.0 1.0 1.0" tile="1.0" />
				<effect name="effect_directional_light_properties" />
				<effect name="effect_fog_properties" />
				<effect name="effect_shadow_properties" pfc_counter = "1" />
				<effect name="effect_clipping_plane" />
			</material>
			<material name= "tree_trunk_normalmap" shader = "normalmap">
				<effect name="effect_diffuse_texture" texture="tree_trunk_diffuse" color="1.0 1.0 1.0" tile="1.0" />
				<effect name="effect_directional_light_properties" />
				<effect name="effect_normal_texture" texture="tree_trunk_normalmap" tile="1.0"/>
				<effect name="effect_fog_properties" />
				<effect name="effect_shadow_properties" pfc_counter = "1" />
				<effect name="effect_clipping_plane" />
			</material>
			<material name="grass2_material" shader="grass">
				<effect name="effect_fog_properties"/>
				<effect name="effect_float2" values="4.0 4.0" />
				<effect name="effect_shadow_properties" pfc_counter="0"/>
				<effect name="effect_float" values="0.0"/>
				<effect name="effect_directional_light_properties" />
				<effect name="effect_float3_array" />
				<effect name="effect_particle" texture="grass2" depth_texture="depth_texture" screen_size="1920 1080" tile="1.0"/>
				<effect name="effect_normal_texture" texture="wind_texture" tile="1.0"/>
				<effect name="effect_clipping_plane" />				
			</material>
			<material name="props_material" shader="normalmap">
				<effect name="effect_fog_properties"/>
				<effect name="effect_shadow_properties" pfc_counter="1"/>
				<effect name="effect_directional_light_properties" />
				<effect name="effect_diffuse_texture" texture="MedievalDungeonPropsAtlas02_diffuse" color="1.0 1.0 1.0" tile="1.0" />
				<effect name="effect_normal_texture" texture="MedievalDungeonPropsAtlas02_normalmap" tile="1.0"/>
				<effect name="effect_clipping_plane" />				
			</material>
			<material name="terrain" shader="terrain">
				<effect name="effect_fog_properties"/>
				<effect name="effect_shadow_properties" pfc_counter="3"/>
				<effect name="effect_directional_light_properties" />
				<effect name="effect_diffuse_texture" texture="terrain_blendmap" color="1.0 1.0 1.0" tile="50.0" />
				<effect name="effect_clipping_plane" />
				<effect name="effect_float" value="10"/>
				<effect name="effect_heightmap_texture" texture="terrain_heightmap" tile="1.0" />
				<effect name="effect_texture_array" texture="terrain_array"/>				
			</material>
			<material name="player" shader="animated_model">
				<effect name="effect_fog_properties"/>
				<effect name="effect_shadow_properties" pfc_counter="3"/>
				<effect name="effect_directional_light_properties" />
				<effect name="effect_diffuse_texture" texture="material_farmer_diffuse" color="1.0 1.0 1.0" tile="1.0" />
				<!--effect name="effect_normal_texture" texture="material_farmer_normalmap" tile="1.0"/-->
				<effect name="effect_clipping_plane" />
				<effect name="effect_matrix_array" />					
			</material>
			<material name="skybox" shader="skybox">
				<effect name="effect_fog_properties"/>
				<effect name="effect_directional_light_properties" />
				<effect name="effect_texture_cubemap" texture1="day_cubemap" texture2="night_cubemap" blend_factor="0.0"/>				
			</material>
			<material name="energy_wall" shader="energy_wall">
				<effect name="effect_diffuse_texture" texture="yellow_grid" color="0.0 0.0 0.0" tile="50.0" />
				<effect name="effect_float2" values="1920 1080" />
				<effect name="effect_depth_texture" texture="depth_texture" tile="1.0"/>
			</material>
			<material name="water" shader="water">
				<effect name="effect_fog_properties"/>
				<effect name="effect_directional_light_properties" />
				<effect name="effect_water" 
						reflection_texture="reflection_water" 
						refraction_texture="refraction_water"
						distorsion_texture="distorsion_water" 
						normal_texture="normal_water" 
						depth_texture="refraction_depth_water" 
						color="0.0 0.3 0.8" speed="0.02" />
			</material>
			<material name="smoke_particle" shader="particle">
				<effect name="effect_particle" texture="smoke" depth_texture="depth_texture" screen_size="1920 1080" tile="1.0"/>
				<effect name="effect_clipping_plane" />				
			</material>
		</materials_library>
	</libraries>
	<game_scene name="mainScene">
		<entities counter="412">
			<entity id="1" is_enabled="1" modelID="18" materialID="9">
				<transformation>
					<position X="-1.318163" Y="5.474967" Z="-3.749299"/>
					<rotation X="-1.570796" Y="-1.004369" Z="0.000000"/>
					<scale X="0.180000" Y="0.180000" Z="0.180000"/>
				</transformation>
				<components>
					<component enabled="1" type="animation_component"/>
					<component enabled="1" type="character_component"/>
					<component enabled="1" type="debug_component"/>
					<component enabled="1" type="energy_wall_collision_component"/>
					<component enabled="1" type="environment_modificator_component"/>
					<component enabled="1" type="input_component">
						<converters/>
					</component>
					<component enabled="1" type="physics_component" is_static="0">
						<gravity X="0.000000" Y="-9.800000" Z="0.000000"/>
					</component>
					<component enabled="1" type="collision_component"/>
				</components>
			</entity>
			<entity id="2" is_enabled="1">
				<transformation>
					<position X="2.042026" Y="5.874854" Z="-5.824761"/>
					<rotation X="0.000000" Y="0.000000" Z="0.000000"/>
					<scale X="0.000000" Y="0.000000" Z="0.000000"/>
				</transformation>
				<components>
					<component enabled="1" type="character_component"/>
					<component enabled="1" type="input_component">
						<converters/>
					</component>
					<component enabled="1" type="over_water_component" water_height="5.466667"/>
					<component enabled="1" type="collision_component"/>
					<component enabled="1" type="third_person_camera_component" camera_name="gameplay_camera" target_entity_id="1" distance_from_target="4.000000" pitch="10.000000" pitch_speed="10.000000" zoom_speed="10.000000">
						<target_offset X="0.000000" Y="0.500000" Z="0.000000"/>
					</component>
				</components>
			</entity>
		</entities>
	</game_scene>
</ngenius>
